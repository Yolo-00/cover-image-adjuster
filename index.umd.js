(function(a,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(a=typeof globalThis<"u"?globalThis:a||self,t(a["seamless-scroll"]={},a.Vue))})(this,function(a,t){"use strict";const M=(s,m)=>(s.install=n=>{for(const r of[s,...Object.values({})])n.component(r.name,r)},s),P=["src"],_=M(((s,m)=>{const n=s.__vccOpts||s;for(const[r,h]of m)n[r]=h;return n})(t.defineComponent({__name:"index",props:{src:{},width:{default:200},height:{default:200},draggable:{type:Boolean,default:!0},initialPosition:{default:void 0}},emits:["positionChange"],setup(s,{emit:m}){const n=s,r=m,h=t.ref(),c=t.ref(),u=t.ref(!1),i=t.ref({x:0,y:0}),l=t.ref({x:0,y:0}),f=t.ref(!1),g=t.ref({height:"100%",width:"auto"}),b=()=>{if(n.initialPosition){i.value=n.initialPosition;return}i.value={x:0,y:0},r("positionChange",i.value)},E=(e,o)=>{if(h.value&&c.value){const v=c.value,C=0,I=n.width-v.offsetWidth,T=0,R=n.height-v.offsetHeight,L={x:Math.min(C,Math.max(I,e)),y:Math.min(T,Math.max(R,o))};i.value=L,r("positionChange",L)}},p=e=>{if(!u.value||!c.value)return;const o=e.clientX-l.value.x,d=e.clientY-l.value.y;E(o,d)},y=e=>{if(!u.value||!c.value)return;e.preventDefault();const o=e.touches[0],d=o.clientX-l.value.x,v=o.clientY-l.value.y;E(d,v)},x=()=>{u.value=!1,document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",x)},w=()=>{u.value=!1,document.removeEventListener("touchmove",y),document.removeEventListener("touchend",w)},X=e=>{n.draggable&&(u.value=!0,l.value={x:e.clientX-i.value.x,y:e.clientY-i.value.y},document.addEventListener("mousemove",p),document.addEventListener("mouseup",x))},Y=e=>{if(!n.draggable)return;e.preventDefault();const o=e.touches[0];u.value=!0,l.value={x:o.clientX-i.value.x,y:o.clientY-i.value.y},document.addEventListener("touchmove",y),document.addEventListener("touchend",w)},j=()=>{const e=c.value;if(!e)return;const o=e.naturalWidth/e.naturalHeight,d=n.width/n.height;o>d?g.value={height:"100%",width:"auto"}:g.value={width:"100%",height:"auto"},f.value=!0,b()};return t.watch(()=>n.initialPosition,e=>{e&&f.value&&(i.value=e,r("positionChange",e))},{deep:!0}),t.onUnmounted(()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",w)}),(e,o)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"containerRef",ref:h,class:"draggable-container",style:t.normalizeStyle({width:`${e.width}px`,height:`${e.height}px`})},[t.createElementVNode("img",{ref_key:"imgRef",ref:c,src:e.src,onLoad:j,onMousedown:t.withModifiers(X,["prevent"]),onTouchstart:t.withModifiers(Y,["prevent"]),style:t.normalizeStyle({...g.value,transform:`translate3d(${i.value.x}px, ${i.value.y}px, 0)`,opacity:f.value?1:0,cursor:e.draggable?"move":"default","will-change":u.value?"transform":"auto"})},null,44,P)],4))}}),[["__scopeId","data-v-57648c1a"]]));a.CoverImageAdjuster=_,a.default=_,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
